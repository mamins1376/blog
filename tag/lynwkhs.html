<!DOCTYPE html>
<html lang="fa">
<head>
  <title>زندگی خوره‌ای</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width">
  <link rel="icon" type="image/png" href="https://mamins1376.github.io/weblog/favicon.png">

  <link href="https://mamins1376.github.io/weblog/atom.xml" type="application/atom+xml" rel="alternate" title="خوراک اتم کامل زندگی خوره‌ای" />
  <link href="https://mamins1376.github.io/weblog/rss.xml" type="application/rss+xml" rel="alternate" title="خوراک آراس‌اس کامل زندگی خوره‌ای" />

      <link href="https://mamins1376.github.io/weblog/theme/css/style.css" rel="stylesheet" />
      <link href="https://mamins1376.github.io/weblog/theme/css/syntax.css" rel="stylesheet" />
      <link href="https://mamins1376.github.io/weblog/theme/css/fonts.css" rel="stylesheet" />
      <link href="https://mamins1376.github.io/weblog/theme/css/minimal.css" media="(max-width: 800px)" rel="stylesheet" />
</head>
<body class='rtl'>
  <div class='container'>

<header class="site-header">
<div class="wrapper">
  <a class="site-title" href="https://mamins1376.github.io/weblog">زندگی خوره‌ای</a>
  <span class="site-desc">نتیجه یکسری تعادل شیمیایی</span>
  <nav class="site-navigation">
    <!--a class="page-link" href="https://mamins1376.github.io/weblog/categories.html">دسته‌ها</a-->
    <!--a class="page-link" href="https://mamins1376.github.io/weblog/tags.html">برچسب‌ها</a-->

    <a href="https://github.com/mamins1376">گیت‌هاب</a>

    <a href="http://telegram.me/mamins1376">تلگرام</a>



    <a href="https://twitter.com/mamins1376">توئیتر</a>

    <a class="page-link" href="https://mamins1376.github.io/weblog/pages/drbrh/">درباره</a>
  </nav>
</div>
</header>
    <div class="wrapper">
<section class="content">
<h2>نوشته‌های دارای برچسب لینوکس</h2>

<ul class="post-list">
    <li><article class="post">
      <header class="post-header"><h2 class="post-title"><a href="https://mamins1376.github.io/weblog/2016/09/chr-dbyn-rw-trkh-khrdm/" rel="bookmark" title="چرا دبیان رو ترک کردم">چرا دبیان رو ترک کردم</a></h2>
        <abbr class="publish-date" title="تاریخ انتشار"> دوشنبه ۵ مهر ۱۳۹۵</abbr>
        <address class="vcard author">
            <a class="url fn" href="https://mamins1376.github.io/weblog/author/mhmdmyn.html">محمدامین</a>
        </address>
      </header>
      <div class="post-content"><p>حدود دو هفته پیش دیجیکالا <a href="http://www.digikala.com/Product/DKP-54752">لپ‌تاپ لنوو جی۵۰۴۵</a> رو توی فهرست فروش ویژه قرار داده بود و منم که به شدت دنبال همچین موردی بودم تونستم بخرم. سیستم‌عامل از پیش نصب شده‌اش FreeDOS بود و خب اصلا بدرد من نمی‌خورد. موقعی که می‌خواستم دبیان روش نصب کنم، لحظه‌ای درنگ کردم؛ گفتم چرا چیزی رو که دائم باهاش کار کردم و برام تکراری شده دوباره در دستگاه دیگه‌ای امتحان کنم؟ ولی حالا به این پی بردم که تنها دلیل این انتخاب تنوع طلبی نبود. در ادامه می‌نویسم که چرا <em>آرچ لینوکس</em> رو انتخاب کردم.</p>
<h3>چرا دبیان استیبل(stable) نه؟</h3>
<ul>
<li><strong>نرم‌افزارهای قدیمی</strong>: فقط کافیه نسخه گنوم دبیان جسی رو نگاه کنید :)</li>
<li><strong>عدم پشتیبانی رسمی از مخازن شخصی</strong></li>
</ul>
<h3>چرا دبیان سید(sid) نه؟</h3>
<ul>
<li><strong>ناپایداری، مخصوصا وابستگی بسته‌ها</strong>: من چندین بار به این مشکل خوردم. در چنین شرایطی هیچ کاری از دستتون برنمیاد، مجبورید صبر کنید تا نگهدارنده‌ها(Maintainers) مخزن رو درست کنن.</li>
<li><strong>آپدیت‌های زیاد</strong>: در کشور ما، هزینه حجم مصرفی بالاست. این یکی مشکلیه که آرچ هم داره، ولی تا اونجایی که یادم میاد حجم آپدیت‌های آرچ کمتره (شایدم اشتباه می‌کنم چون دقیق یادم نیست).</li>
<li><strong>کماکان بدون پشتیبانی از مخزن شخصی</strong></li>
</ul>
<h3>چرا آرچ؟</h3>
<ul>
<li><strong>نرم‌افزارهای همیشه به‌روز</strong>: جالبه بدونین همین چند روز پیش <a href="https://github.com/vim/vim/releases/tag/v8.0.0000">ویم هشت منتشر شد</a>، و من فرداش اون رو با مدیر بسته از مخزن رسمی نصب کردم!</li>
<li><strong>ویکی غیر قابل توصیف</strong>: موقعی که دبیان داشتم هم از ویکی آرچ خیلی کمک می‌گرفتم.</li>
</ul>
<h2>حالا خب که چی؟</h2>
<p>اگر دقت کنید، همه دلایل مورد ترجیح بودن یک توزیع برمی‌گرده به دو عامل(به ترتیب اهمیت):</p>
<ol>
<li>دانش کاربر</li>
<li>مدیر بسته توزیع</li>
</ol>
<p>یعنی برای منی که تجربه چندین سال برنامه‌نویسی و کار با خط فرمان دارم، توزیع‌هایی مثل Zorin OS یا لینوکس مینت جذابیت خاصی ندارن چون آماده استفاده هستن. در سمت مقابل، حوصله و وقت انجام دادن همه کارها(LFS و...) رو هم ندارم. از طرفی، اگر به مشخصات سیستم من هم نگاهی بندازید میبینید که یه لپ‌تاپ دو هسته‌ای توانایی این همه کامپایل کردن(جنتو و ...) رو نداره. شاید اگر یه سیستم قوی تر نصیبم شد گوشه چشمی هم به این توزیع ها داشته باشم ولی فعلا نه. با شرایط من که می‌خوام سیستم رو یبار <em>دقیقا همون طور که می‌خوام</em> پیکربندی و نصب کنم و بابت تاریخ انقضای برنامه‌هام هم نگران نباشم، آرچ بهترین گزینه‌ست. خوبی دیگه‌ای که آرچ داره برای منی که برنامه‌نویس پایتون ۳ هستم اینه که نسخه پیش‌فرض پایتون این توزیع ۳ است (یعنی python یک symlink است به python3، نه python2 مثل دبیان یا اوبونتو).</p>
<p>توی آرچ AUR رو هم داریم که شما رو از فرآیند دردناک نصب دستی برنامه‌هایی که توی مخزن رسمی نیستن خلاص می‌کنه. برای کسایی که با اپت یا اپت-گت آشناترند pacman یکم عجیب و غریب به نظر میاد و -به نظر من- واقعاً هم هست.</p>
<h3>بالاخره کدوم؟</h3>
<p>یه فرمول کلی فکر کنم خیلی از مشکلات رو حل کنه.</p>
<ul>
<li><strong>یه سیستم‌عامل می‌خوام که فقط کار کنه!</strong> دبیان استیبل با میزکار گنوم.</li>
<li><strong>می‌خوام از سیستمم دقیقا همون طور که می‌خوام کار بکشم!</strong> آرچ لینوکس با همون چیزی که می‌خواید!</li>
<li><strong>وقت زیاد دارم. می‌خوام یاد بگیرم!</strong> اوبونتو با میزکار LXDE.</li>
<li><strong>یه سیستم قوی دارم و می‌خوام قشنگی رابط کاربری رو حس کنم!</strong> اوبونتو با میزکار کی‌دی‌ای پلاسما(۵).</li>
</ul>
<p>از این به بعد بیش‌تر از شخصی سازی آرچ می‌نویسم و خودتون متوجه می‌شید که با یه مخزن بسته به‌روز چه کارهایی می‌شه کرد!</p></div>
    </article></li>
    <li><article class="post">
      <header class="post-header"><h2 class="post-title"><a href="https://mamins1376.github.io/weblog/2015/10/khlyp-rwz-azdy-nrmfzr-thrn-2015/" rel="bookmark" title="کلیپ روز آزادی نرم‌افزار تهران ۲۰۱۵">کلیپ روز آزادی نرم‌افزار تهران ۲۰۱۵</a></h2>
        <abbr class="publish-date" title="تاریخ انتشار"> شنبه ۱۱ مهر ۱۳۹۴</abbr>
        <address class="vcard author">
            <a class="url fn" href="https://mamins1376.github.io/weblog/author/mhmdmyn.html">محمدامین</a>
        </address>
      </header>
      <div class="post-content"><p>دریافت با کیفیت 1080p از <a href="https://drive.google.com/file/d/0B2_tmNlUxrT-WVU1UlVrY0l2alU/view?usp=sharing">گوگل درایو</a></p>
<p>مشاهده روی <a href="https://youtu.be/B9wS56uipUA">یوتیوب</a></p>
<iframe class="youtube-embed" max-width=100% src="https://www.youtube.com/embed/B9wS56uipUA" frameborder="0" allowfullscreen></iframe></div>
    </article></li>
    <li><article class="post">
      <header class="post-header"><h2 class="post-title"><a href="https://mamins1376.github.io/weblog/2015/08/mhjrt-bh-qlb-mtrwskh/" rel="bookmark" title="مهاجرت به قالب ماتروسکا">مهاجرت به قالب ماتروسکا</a></h2>
        <abbr class="publish-date" title="تاریخ انتشار"> پنج‌شنبه ۲۹ مرداد ۱۳۹۴</abbr>
        <address class="vcard author">
            <a class="url fn" href="https://mamins1376.github.io/weblog/author/mhmdmyn.html">محمدامین</a>
        </address>
      </header>
      <div class="post-content"><p>به قصد پاکسازی سیستمم، تصمیم گرفتم تا جای ممکن از قالب‌ها، نرم‌افزارها و مجوزهای آزاد استفاده کنم. در راستای این مهم، <a href="https://fa.wikipedia.org/wiki/%D9%85%D8%A7%D8%AA%D8%B1%D9%88%D8%B3%DA%A9%D8%A7">ماتروسکا</a> رو برای پرونده‌های تصویری انتخاب کردم. قالب خیلی جالبیه و همه‌جا هم به راحتی قابل پخشه و البته شناخته شده(با پسوند mkv). یکی از مزایایی هم که داره کم‌تر بودن حجمش نسبت به امپگ هست. اسکریپتی برای پاکسازی سیستم از قالب منحوس و شوم(!) MP4 نوشتم که تقریبا هوشمندانه عمل می‌کنه. البته به قول <a href="http://jadi.net/">جادی</a>، ما هر چیزی رو که براش if می‌ذاریم بهش می‌گیم هوشمند :)</p>
<p>نحوه‌ی کار به این صورته که <code>find</code>، پرونده‌هایی رو که پسوند MP4 دارند رو داخل پوشه‌ی Videos در پوشه‌ی خانگی کاربر جاری پیدا می‌کنه و با یه حلقه‌ی <code>for</code> مانند (که با <code>while</code> پیاده شده)، تابع <code>convert_to_mkv</code> رو به ازای هر کدوم از این پرونده‌ها صدا می‌زنه. این تابع، موظفه که برنامه‌ی <code>avconv</code> رو اجرا کنه که عمل اصلی تبدیل رو انجام می‌ده. بقیه‌ی کارها هم مختص فرستادن نامه به کاربره که گزارش تبدیل رو به کاربر جاری ایمیل می‌کنه.</p>
<div class="highlight"><pre><span></span><span class="ch">#!/bin/sh</span>
<span class="c1"># make cron usage easy :)</span>
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
<span class="c1"># go to the user&#39;s videos directory</span>
<span class="nb">cd</span> /home/<span class="nv">$USER</span>/Videos/

<span class="c1"># this function converts given filename</span>
convert_to_mkv<span class="o">()</span> <span class="o">{</span>
  <span class="nv">INPUT</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$1</span><span class="s2">&quot;</span>
  <span class="nv">OUTPUT</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">echo</span> <span class="nv">$1</span> <span class="p">|</span> sed -r -e <span class="s1">&#39;s/\.\w+$/.mkv/&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
  avconv -v info -i <span class="s2">&quot;</span><span class="nv">$INPUT</span><span class="s2">&quot;</span> -c:v libx264 -f matroska <span class="s2">&quot;</span><span class="nv">$OUTPUT</span><span class="s2">&quot;</span>
<span class="o">}</span>

<span class="c1"># find any mp4 and kill it!</span>
find . -type f -name <span class="s1">&#39;*.mp4&#39;</span> <span class="p">|</span> <span class="k">while</span> <span class="nb">read</span> FULL_PATH<span class="p">;</span> <span class="k">do</span>
  <span class="nv">FILE</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$FULL_PATH</span><span class="s2">&quot;</span> <span class="p">|</span> sed <span class="s1">&#39;s/\.\///&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
  <span class="nv">LOGFILE</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>basename <span class="s2">&quot;</span><span class="si">${</span><span class="nv">FILE</span><span class="si">}</span><span class="s2">&quot;</span> <span class="p">|</span> sed -e <span class="s1">&#39;s/ /_/g&#39;</span> -e <span class="s1">&#39;s/mp4$/log/&#39;</span><span class="k">)</span><span class="s2">&quot;</span>
  <span class="k">if</span> convert_to_mkv <span class="s2">&quot;</span><span class="nv">$FILE</span><span class="s2">&quot;</span> &lt; /dev/null &gt;&gt; <span class="s2">&quot;</span><span class="nv">$LOGFILE</span><span class="s2">&quot;</span> 2&gt;<span class="p">&amp;</span>1<span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$FILE</span><span class="s2"> converting successfully finished. see attachment for details.&quot;</span> <span class="p">|</span> mail -A <span class="s2">&quot;</span><span class="nv">$LOGFILE</span><span class="s2">&quot;</span> -s <span class="s1">&#39;Converting Finished&#39;</span> <span class="nv">$USER</span>
    rm <span class="s2">&quot;</span><span class="nv">$LOGFILE</span><span class="s2">&quot;</span> <span class="s2">&quot;</span><span class="si">${</span><span class="nv">FILE</span><span class="si">}</span><span class="s2">&quot;</span>
  <span class="k">else</span>
    <span class="nb">echo</span> <span class="s2">&quot;</span><span class="nv">$FILE</span><span class="s2"> converting faild. see attachment for details.&quot;</span> <span class="p">|</span> mail -A <span class="s2">&quot;</span><span class="nv">$LOGFILE</span><span class="s2">&quot;</span> -s <span class="s1">&#39;Error While Converting&#39;</span> <span class="nv">$USER</span>
  <span class="k">fi</span>
<span class="k">done</span>
</pre></div>


<p>در پست‌های بعدی، درباره‌ی مهاجرت به قالب‌های آزاد دیگه (نظیر Vorbis و ...) خواهم نوشت.</p></div>
    </article></li>
    <li><article class="post">
      <header class="post-header"><h2 class="post-title"><a href="https://mamins1376.github.io/weblog/2015/08/gnwm-hjdh-slh-shd/" rel="bookmark" title="گنوم، هجده ساله شد">گنوم، هجده ساله شد</a></h2>
        <abbr class="publish-date" title="تاریخ انتشار"> یک‌شنبه ۲۵ مرداد ۱۳۹۴</abbr>
        <address class="vcard author">
            <a class="url fn" href="https://mamins1376.github.io/weblog/author/mhmdmyn.html">محمدامین</a>
        </address>
      </header>
      <div class="post-content"><p>دیروز، میزکار گنوم هجدهمین سالش رو پشت سر گذاشت. میزکاری که در ابتدا به علت مشکلات مجوز کتابخونه‌ی Qt به وجود اومد و پس از متن‌باز شدن این کتابخونه، باز هم به توسعه‌ی خودش ادامه داد و الآن یکی از پرطرفدارترین میزکارهای گنو به حساب میاد و در رقابتی سخت با KDE. برنامه‌هایی که این سیستم رو تشکیل می‌دن، کاملا یکپارچه با همدیگه و خود سیستم هستن که باعث می‌شه هماهنگی بی نظیری رو شاهد باشیم. در ادامه، ویدئوی معرفی گنوم ۳.۱۶ رو قرار دادم.
خوش باشید.</p>
<iframe class="youtube-embed" src="https://www.youtube.com/embed/WxRLa5hTGkg" frameborder="0" allowfullscreen></iframe></div>
    </article></li>
    <li><article class="post">
      <header class="post-header"><h2 class="post-title"><a href="https://mamins1376.github.io/weblog/2015/05/dbyn-br-bstr-ndrwyd-pysh-bh-swy-jsyqsmt-dwm/" rel="bookmark" title="دبیان بر بستر اندروید: پیش به سوی جسی!(قسمت دوم)">دبیان بر بستر اندروید: پیش به سوی جسی!(قسمت دوم)</a></h2>
        <abbr class="publish-date" title="تاریخ انتشار"> یک‌شنبه ۱۳ اردی‌بهشت ۱۳۹۴</abbr>
        <address class="vcard author">
            <a class="url fn" href="https://mamins1376.github.io/weblog/author/mhmdmyn.html">محمدامین</a>
        </address>
      </header>
      <div class="post-content"><p>در پست قبل، بسته‌ها بارگیری و به پوشه‌ی <code>debroot</code> منتقل شدند. حالا ادامه‌ی مراحل را انجام می‌دهیم.
<!-- ادامه --></p>
<h4>۳. ساخت تصویر توزیع</h4>
<p>یک ایمیج خالی با استفاده از <code>dd</code> درست می‌کنیم:</p>
<div class="highlight"><pre><span></span>root@host:~# dd <span class="k">if</span><span class="o">=</span>/dev/zero <span class="nv">of</span><span class="o">=</span>Debian.img <span class="nv">count</span><span class="o">=</span><span class="m">0</span> <span class="nv">bs</span><span class="o">=</span>1M <span class="nv">seek</span><span class="o">=</span>1K
</pre></div>


<p>حجم ایمیج ساخته‌شده ۱گیگابایت خواهد بود. برای داشتن اندازه‌ی دلخواهتان مقدار <code>seek</code> را بر حسب مگابایت تغییر دهید.<br />
آن را فرمت می‌کنیم:</p>
<div class="highlight"><pre><span></span>root@host:~# mkfs.ext4 -F -L Debian Debian.img
</pre></div>


<p>و سپس سوار می‌کنیم:</p>
<div class="highlight"><pre><span></span>root@host:~# mount -t ext4 -o loop,rw Debian.img /mnt
</pre></div>


<p>حالا همه‌ی بسته‌های بارگیری شده را به ایمیج کپی می‌کنیم:</p>
<div class="highlight"><pre><span></span>root@host:~# cp -r debroot/* /mnt/<span class="p">;</span> sync
</pre></div>


<p>و ایمیج را جدا:</p>
<div class="highlight"><pre><span></span>root@host:~# umount /mnt
</pre></div>


<p>حالا ما یک ایمیج از توزیع‌مان داریم ولی هنوز آماده نیست. از این‌جا دیگر به پوشه‌ی <code>debroot</code> نیاز نداریم.</p>
<h4>۴. انتقال توزیع به اندروید</h4>
<p>مهم نیست که ایمیج کجا کپی می‌شود، ولی باید قابل دسترس باشد و فضای کافی داشته باشد. مثلا ایمیج من در <code>/storage/sdcard1/Disks/</code> قرار دارد. پس از انتقال ایمیج، دیگر کاری با ماشین گنو/لینوکسی نداریم.<br />
<strong>توجه!</strong> در مرحله‌ی بعد به <a href="http://busybox.net/">BusyBox</a> نیاز خواهیم داشت. اگر هنوز آن را روی اندروید نصب نکرده‌اید، همین حالا <a href="https://play.google.com/store/apps/details?id=com.jrummy.busybox.installer">نصب کنید</a>.</p>
<h4>۵. نصب توزیع</h4>
<p>یک پوشه می‌سازیم. این پوشه محل سوارشدن ایمیج خواهد بود:</p>
<div class="highlight"><pre><span></span>root@android:~# mkdir /data/debian
root@android:~# busybox mount -o loop,rw -t ext4 &lt;IMAGE&gt; /data/debian
</pre></div>


<p>یادتان نرود که در کدهای گفته شده، <code>&lt;IMAGE&gt;</code> را با مسیر ایمیجی که کپی کردیم عوض کنید. وارد توزیع می‌شویم:</p>
<div class="highlight"><pre><span></span>root@android:~# <span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
root@android:~# <span class="nb">export</span> <span class="nv">USER</span><span class="o">=</span>root
root@android:~# <span class="nb">export</span> <span class="nv">HOME</span><span class="o">=</span>/root
root@android:~# busybox chroot /data/debian /bin/bash
root@localhost:/# 
</pre></div>


<p>اکنون شما وارد توزیع شدید. اما هنوز بسته‌ها را استخراج نکردیم!</p>
<div class="highlight"><pre><span></span>root@localhost:/# /debootstrap/debootstrap --second-stage
</pre></div>


<p><code>debootstrap</code> شروع به نصب سیستم می‌کند.</p>
<p><strong>تبریک!</strong> توزیع ما آماده است؛ ولی هنوز کارهای کوچکی باقی‌مانده که می‌تواند کار ما را راحت‌تر کند. مثلا با اسکریپت زیر، هربار توزیع آماده و اجرا می‌شود و پس از اتمام کار خودبه‌خود جدا می‌شود. من [این اسکریپت][script] را در مسیر <code>system/bin/debian/</code> قرار دادم.</p>
<div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">DEBMNT</span><span class="o">=</span>/data/debian
busybox mount -t ext2 &lt;IMAGE&gt; <span class="nv">$DEBMNT</span>
busybox mount -t proc none <span class="nv">$DEBMNT</span>/proc
busybox mount -t sysfs none <span class="nv">$DEBMNT</span>/sys
busybox mount -o <span class="nb">bind</span> /dev <span class="nv">$DEBMNT</span>/dev
busybox mount -t devpts none <span class="nv">$DEBMNT</span>/dev/pts
<span class="nb">unset</span> LD_PRELOAD
<span class="nv">LAST_PATH</span><span class="o">=</span><span class="nv">$PATH</span>
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
<span class="nb">export</span> <span class="nv">USER</span><span class="o">=</span>root
<span class="nb">export</span> <span class="nv">HOME</span><span class="o">=</span>/root
<span class="nb">export</span> <span class="nv">TERM</span><span class="o">=</span>linux
busybox chroot <span class="nv">$DEBMNT</span> /bin/bash
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="nv">$LAST_PATH</span>
sync
busybox umount <span class="nv">$DEBMNT</span>/dev/pts
busybox umount <span class="nv">$DEBMNT</span>/dev
busybox umount <span class="nv">$DEBMNT</span>/proc
busybox umount <span class="nv">$DEBMNT</span>/sys
busybox umount <span class="nv">$DEBMNT</span> <span class="o">||</span> sh -c busybox umount -l <span class="nv">$DEBMNT</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s1">&#39;Force unmounted!&#39;</span>
</pre></div>


<h4>۶. تنظیم apt</h4>
<p>لازم است که تغییراتی در <code>sources.list</code> مربوط به مدیر بسته‌ی <code>apt</code> به‌وجود آوریم تا بتوانیم بسته‌های مورد نیازمان را نصب کنیم.</p>
<div class="highlight"><pre><span></span>root@localhost:/# vi /etc/apt/sources.list
</pre></div>


<p><strong>توجه!</strong> به جای ویرایش‌گر <code>vi</code>، هر ویرایشی که با آن راحت‌تر هستید استفاده کنید. <code>nano</code> به‌طور پیش‌فرض نصب است.<br />
خطوط زیر را به آن اضافه کنید یا فایل آماده را [دریافت کنید][sources.list].</p>
<div class="highlight"><pre><span></span><span class="k">deb</span> <span class="s">http://ftp.ir.debian.org/debian/</span> <span class="kp">jessie</span> <span class="kp">contrib</span> <span class="kp">main</span> <span class="kp">non-free</span>
<span class="k">deb-src</span> <span class="s">http://ftp.ir.debian.org/debian/</span> <span class="kp">jessie</span> <span class="kp">contrib</span> <span class="kp">main</span> <span class="kp">non-free</span>

<span class="k">deb</span> <span class="s">http://ftp.ir.debian.org/debian/</span> <span class="kp">jessie-backports</span> <span class="kp">contrib</span> <span class="kp">main</span> <span class="kp">non-free</span>
<span class="k">deb-src</span> <span class="s">http://ftp.ir.debian.org/debian/</span> <span class="kp">jessie-backports</span> <span class="kp">contrib</span> <span class="kp">main</span> <span class="kp">non-free</span>

<span class="k">deb</span> <span class="s">http://ftp.ir.debian.org/debian/</span> <span class="kp">jessie-updates</span> <span class="kp">contrib</span> <span class="kp">main</span> <span class="kp">non-free</span>
<span class="k">deb-src</span> <span class="s">http://ftp.ir.debian.org/debian/</span> <span class="kp">jessie-updates</span> <span class="kp">contrib</span> <span class="kp">main</span> <span class="kp">non-free</span>
</pre></div>


<p>و در آخر،‌ برای به‌روزرسانی کَش <code>apt</code>:</p>
<div class="highlight"><pre><span></span>root@localhost:/# apt-get update
</pre></div>


<p><strong>توجه!</strong> فرمان بالا نیاز به اتصال اینترنت دارد.<br />
اکنون توزیع شما دقیقا مانند یک توزیع گنو/لینوکس عادی رفتار می‌کند.</p>
<p>در قسمت بعد به نصب محیط گرافیکی(به هر دو روش <code>framebuffer</code> و <code>VNC</code>) خواهیم پرداخت.</p>
<p>[script]: {{ site.baseurl }}/downloads/2015/05/debian
[sources.list]: {{ site.baseurl }}/downloads/2015/05/sources.list</p></div>
    </article></li>
    <li><article class="post">
      <header class="post-header"><h2 class="post-title"><a href="https://mamins1376.github.io/weblog/2015/05/dbyn-br-bstr-ndrwyd-pysh-bh-swy-jsyqsmt-wl/" rel="bookmark" title="دبیان بر بستر اندروید: پیش به سوی جسی!(قسمت اول)">دبیان بر بستر اندروید: پیش به سوی جسی!(قسمت اول)</a></h2>
        <abbr class="publish-date" title="تاریخ انتشار"> شنبه ۱۲ اردی‌بهشت ۱۳۹۴</abbr>
        <address class="vcard author">
            <a class="url fn" href="https://mamins1376.github.io/weblog/author/mhmdmyn.html">محمدامین</a>
        </address>
      </header>
      <div class="post-content"><p>بسیاری از افراد پس از خرید یک تلفن هوشمند یا تبلت، اقدام به روت کردن آن می‌کنند. مفهوم «روت» در اندروید همانند مفهوم روت در دیگر سیستم‌های گنو/لینوکسی‌ست. دلایل زیادی برای روت‌کردن وجود دارد: شخصی‌سازی بیش‌تر، حذف برنامه‌های سیستمی، اصلاح سیستم و البته نصب یک توزیع گنو/لینوکسی.<br />
در این‌جا، به نصب دبیان ۸ (جسی) بر روی یک وسیله‌ی مبتنی بر اندروید می‌پردازیم.
<!-- ادامه --></p>
<h3>چه‌چیزی لازم داریم؟</h3>
<ul>
<li>یک ماشین گنو/لینوکسی: ترجیحاً از خانواده‌ی دبیان</li>
<li>دسترسی به اینترنت یا مخزن محلی: حدود ۶۰-۷۰ مگابایت در این روش بارگیری خواهد شد.</li>
<li>تلفن هوشمند یا تبلت روت شده</li>
<li>کابل اتصال به رایانه: برای انتقال داده از ماشین گنو/لینوکسی به دستگاه</li>
<li>حداقل ۱ گیگابایت فضای خالی روی دستگاه: مهم نیست که روی حافظه‌ی داخلی باشد یا کارت SD خارجی</li>
<li>وقت و حوصله‌ی فراوان</li>
</ul>
<h3>چه قابلیت‌هایی دارد؟</h3>
<ul>
<li>اجرا به موازات اندروید بدون دستکاری سیستم</li>
<li>روان، سریع و بدون نصب هرگونه برنامه‌ی شخص سوم</li>
<li>حذف آسان</li>
<li>محیط گرافیکی(اختیاری)</li>
<li>اجرای اکثر برنامه‌های گنو/لینوکس(<a href="https://www.winehq.org/about/">WINE</a> هم شامل می‌شود!)</li>
</ul>
<h4>۱. نصب debootstrap</h4>
<p>برای نصب گنو/لینوکس از گنو/لینوکس، <code>debootstrap</code> گزینه‌ی خوبی‌ست، ایجاد یکی دیگر از صفر مطلق؛ بدون کرنل، بوت‌لودر و هرگونه بسته‌ی اختیاری.<br />
فایل‌های تولیدشده <strong>فقط</strong> شامل بسته‌های پایه‌ی سیستم می‌شود.<br />
ابتدا آن را نصب می‌کنیم:  </p>
<div class="highlight"><pre><span></span>root@host:~# apt-get install debootstrap
</pre></div>


<p>برای شروع کار با debootstrap به این اطلاعات نیازمندیم:</p>
<ul>
<li><strong>نوع پردازنده</strong>: در حال حاضر دو نوع پردازنده، غالب دستگاه‌های بازار را پوشش می‌دهند:</li>
<li><code>x86</code>: معماری کامپیوترهای ۳۲بیتی رایج</li>
<li><code>arm</code>: معماری میکروکنترلرهای پیش‌رفته و نسل جدید که خود سه نوع دارد:<ul>
<li><code>armel</code>: نسل قدیمی <code>arm</code></li>
<li><code>armhf</code>: نسل جدید <code>arm</code> که <code>armv7</code> معادل این نسل است</li>
<li><code>arm64</code>: چیپ‌های <code>arm</code> نسخه‌ی ۶۴بیتی<br />
بسته به نوع دستگاه باید یکی از ۴ مورد بالا را انتخاب کرد.</li>
</ul>
</li>
<li><strong>نسخه‌ی توزیع</strong>: ما از توزیع <a href="https://www.debian.org/">دبیان</a> نسخه‌ی <a href="https://www.debian.org/News/2015/20150426.fa.html">۸(جسی)</a> استفاده می‌کنیم. شما می‌توانید از هرنسخه‌ی دیگری(<code>stable</code>، <code>testing</code>، <code>wheezy</code>، ...) استفاده کرده یا حتی به جای دبیان، <a href="http://www.ubuntu.com/">اوبونتو</a> را امتحان کنید.</li>
<li><strong>آینه‌ی بسته‌ها</strong>: برای بارگیری بسته‌های اصلی سیستم از یک آینه استفاده می‌شود؛ این آینه می‌تواند محلی بوده یا روی ماشین دیگری باشد. فاصله‌ی جغرافیایی کمتر بین شما و آینه‌ی منتخبتان معمولاً سرعت بیش‌تری را به همراه دارد. نوع محلی از تصویر توزیع بهره می‌برد که توضیح نحوه‌ی استفاده از آن خارج از حوصله‌ی این مطلب است. ما از مخزن ایران استفاده خواهیم کرد.</li>
</ul>
<h4>۲. بارگیری پایه‌ی سیستم</h4>
<p>پوشه‌ای ایجاد می‌کنیم. این پوشه حاوی فایل‌های اصلی توزیع ما خواهد بود:</p>
<div class="highlight"><pre><span></span>root@host:~# mkdir debroot
</pre></div>


<p>سینتکس کلی برنامه‌ی <code>debootstrap</code> این است:</p>
<div class="highlight"><pre><span></span>root@host:~# debootstrap <span class="o">[</span>OPTIONS<span class="o">]</span> &lt;DIST&gt; &lt;DIR&gt; <span class="o">[</span>&lt;MIRROR&gt;<span class="o">]</span>
</pre></div>


<p>برای ما:</p>
<div class="highlight"><pre><span></span>root@host:~# debootstrap --foreign --arch<span class="o">=</span>armhf jessie ./debroot http://ftp.ir.debian.org/debian/
</pre></div>


<p>در این‌جا:</p>
<ul>
<li><code>foreign</code>: به برنامه می‌گوید که بسته‌ها را استخراج نکند، زیرا معماری ماشین هدف با معماری این ماشین متفاوت است.</li>
<li><code>arch</code>: معماری ماشین هدف(اندروید) را مشخص می‌کند که در بالا توضیح داده شد.</li>
<li><code>jessie</code>: نسخه‌ی توزیع</li>
<li><code>debroot/.</code>: نشانی پوشه‌ای که بالاتر ساختیم.</li>
<li><code>...http://ftp</code>: نشانی آینه.</li>
</ul>
<p>پس از بارگیری بسته‌ها، توزیع دریافت شده و <code>debootstrap</code> بسته‌ها را درون پوشه‌ی <code>debroot</code> خواهد ریخت.</p>
<p>در پست بعدی، بسته‌های دریافت شده را به اندروید منتقل کرده و مراحل راه‌اندازی را انجام خواهیم داد.</p></div>
    </article></li>
</ul>
<div class="pagination">
    <span class="disabled button">▷</span>

  <span class="pagination-count">صفحه ۱ از ۱</span>

    <span class="disabled button">◁</span>
</div>
</section>
    </div>

<footer class="site-footer">
<div class="wrapper">
  <div class="column-1">
    <div class="footer-title">زندگی خوره‌ای</div>
  </div>
  <div class="column-2">
    <div class="email"><a href="mailto:mamins1376@gmail.com">mamins1376@gmail.com</a></div>
    <div class="subscribe"><a href="https://mamins1376.github.io/weblog/rss.xml">اشتراک خوراک RSS</a></div>
  </div>
  <div class="column-3">
    <div class="license">
      <a target="_blank" rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.fa"><img alt="مجوز کریتیو کامنز" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a>
    </div>
    <div class="powered-by">با افتخار، نیرو گرفته از <a href="http://getpelican.com/" title="پلیکان">پلیکان</a></div>
  </div>
</div>
</footer>
  </div>
</body>
</html>